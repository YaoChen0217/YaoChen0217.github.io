<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Arch Linux 安装与使用 Wiki</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            font-family: "Segoe UI", "Helvetica Neue", Arial, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif;
            background: #f8f9fa;
            color: #222;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 800px;
            margin: 40px auto;
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.07);
            padding: 32px 24px;
        }
        h1, h2, h3 {
            color: #2d6cdf;
            margin-top: 1.5em;
        }
        h1 {
            border-bottom: 2px solid #e3e7ed;
            padding-bottom: 0.3em;
        }
        ul, ol {
            margin-left: 1.5em;
            line-height: 1.8;
        }
        code, pre {
            background: #f4f6fa;
            color: #c7254e;
            border-radius: 4px;
            padding: 2px 6px;
            font-size: 95%;
        }
        pre {
            padding: 12px;
            overflow-x: auto;
            margin: 1em 0;
        }
        a {
            color: #2d6cdf;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .note {
            background: #eaf6ff;
            border-left: 4px solid #2d6cdf;
            padding: 10px 16px;
            margin: 1em 0;
            border-radius: 4px;
            color: #1a3a5e;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Arch Linux 安装与使用 Wiki</h1>
        <p>本 Wiki 用于记录 Arch Linux 的安装步骤与日常使用经验，方便后续查阅与复现。</p>

        <h2>目录</h2>
        <ul>
            <li><a href="#准备">安装前准备</a></li>
            <li><a href="#安装">系统安装</a></li>
            <li><a href="#配置">基础配置</a></li>
            <li><a href="#软件">常用软件安装</a></li>
            <li><a href="#美化">美化</a></li>
            <li><a href="#问题">问题与解决方案</a></li>
            <li><a href="#参考">参考资料</a></li>
        </ul>

        <h2 id="准备">安装前准备</h2>
        <ul>
            <li>下载 Arch Linux 官方镜像</li>
            <li>制作启动 U 盘（推荐使用 <code>balenaEtcher</code> 或 <code>dd</code> 命令）</li>
            <li>备份重要数据</li>
        </ul>

        <h2 id="安装">系统安装</h2>
        <ol>
            <li>启动进入 Live 环境</li>
            <li>连接网络（<code>iwctl</code> 或 <code>wifi-menu</code>）</li>
            <li>
                <div class="note">
                    新手可用 <code>archinstall</code>，换源命令如下：
                    <pre>reflector --verbose --country China --sort rate --save /etc/pacman.d/mirrorlist</pre>
                    <b>注意：</b>换源后在 archinstall 里的 mirror 不要改！<br>
                    删除浙大源（据说容易被 ban）：
                    <pre>sed -i 'zju/d' /etc/pacman.d/mirrorlist</pre>
                    然后即可运行 <code>archinstall</code>
                </div>
            </li>
            <li>分区与格式化（<code>fdisk</code>/<code>parted</code> + <code>mkfs</code>）</li>
            <li>挂载分区</li>
            <li>安装基础系统（<code>pacstrap</code>）</li>
            <li>生成 fstab（<code>genfstab</code>）</li>
            <li>切换到新系统（<code>arch-chroot</code>）</li>
            <li>设置时区、语言、主机名、root 密码</li>
            <li>安装引导程序（如 <code>grub</code>）</li>
        </ol>

        <h2 id="配置">基础配置</h2>
        <ul>
            <li>添加新用户</li>
            <li>配置 sudo 权限</li>
            <li>配置网络（NetworkManager）</li>
            <li>配置镜像源（<code>reflector</code>），如已换源则无需在 archinstall 里再选</li>
        </ul>

        <h2 id="软件">常用软件安装</h2>
        <ul>
            <li>图形界面（如 GNOME/KDE/xfce）</li>
            <li>输入法（fcitx5）</li>
            <li>浏览器、终端、编辑器等</li>
        </ul>

        <h2 id="美化">美化</h2>
        <div class="note">
            shorin niri 不方便放出来，去 B 站或 GitHub 搜索。可在 archinstall 安装 niri 后挂魔法。
        </div>
        <div class="note">
            也可以使用 <code>archinstall</code> 的 <code>niri</code> 模块，安装后在 <code>/usr/share/niri</code> 里有一些预设的主题，直接挂魔法即可。
        </div>
        <a> resvg 0.47 会影响fuuzel，导致打不开，不要更新，如已更新请回退到 0.46 版本</a>
        <a>pacman -S downgrade</a>
        <h1>sudo downgrade resvg</h1>
        <h3>选择版本 0.46</h3>
        <h3>重启 fuuzel即可</h3>

        <h2 id="问题">问题与解决方案</h2>
        <ul>
            <li>常见启动问题</li>
            <li>驱动安装</li>
            <li>字体与显示优化</li>
        </ul>

        <h2 id="参考">参考资料(不写这玩意回被打死吧-悲-)</h2>
        <ul>
            <li><a href="https://wiki.archlinux.org/" target="_blank">Arch Wiki</a></li>
            <li><a href="https://wiki.archlinux.org/title/Installation_guide" target="_blank">Arch 安装指南</a></li>
        </ul>
    </div>
</body>
</html>
```